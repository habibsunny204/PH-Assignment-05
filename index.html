<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Emergency Hotlines</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <link
        href="https://fonts.googleapis.com/css2?family=EB+Garamond:ital,wght@0,400..800;1,400..800&family=Hind+Madurai:wght@300;400;500;600;700&family=Inter:ital,opsz,wght@0,14..32,100..900;1,14..32,100..900&family=Noto+Serif:ital,wght@0,100..900;1,100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&family=Poppins:ital,wght@0,100;0,200;0,300;0,400;0,500;0,600;0,700;0,800;0,900;1,100;1,200;1,300;1,400;1,500;1,600;1,700;1,800;1,900&family=Raleway:ital,wght@0,100..900;1,100..900&family=Roboto:ital,wght@0,100..900;1,100..900&family=Work+Sans:ital,wght@0,100..900;1,100..900&display=swap"
        rel="stylesheet">
    <script src="https://kit.fontawesome.com/85ea785855.js" crossorigin="anonymous"></script>

    <style>
        html,
        body {
            font-family: "Hind Madurai";
        }

        .nav-shadow {
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.20);
        }
    </style>
</head>

<body>
    <!-- Nav section -->
    <header class="sticky top-0 z-50 px-8">
        <nav class="nav-shadow mx-auto mt-4 rounded-2xl border border-slate-200 bg-white">
            <div class="flex items-center justify-between px-4 py-3 md:px-6 flex-nowrap max-sm:px-2 max-sm:gap-1">
                <div class="flex flex-col md:flex-row items-center gap-3 max-sm:gap-1">
                    <img src="assets/logo.png" alt="Bangladesh Govt Logo"
                        class="h-9 w-9 rounded-full max-sm:h-7 max-sm:w-7" />
                    <div class="leading-tight max-sm:text-xs">
                        <p class="font-extrabold tracking-tight text-[#006747]">
                            Emergency <br />
                            Service
                        </p>
                    </div>
                </div>

                <div class="flex items-center gap-4 max-sm:gap-1">
                    <div class="flex items-center gap-1.5 max-sm:gap-1">
                        <span id="heartCount" class="font-bold text-pink-500 max-sm:text-sm">0</span>
                        <button id="navHeartBtn" title="Give a heart"
                            class="rounded-xl w-9 border-slate-200 px-2 py-1 hover:bg-slate-50 transition max-sm:w-7 max-sm:px-1">
                            <img src="assets/heart.png" alt="Heart" class="h-4 w-4 max-sm:h-3 max-sm:w-3" />
                        </button>
                    </div>

                    <div class="flex items-center gap-1.5 max-sm:gap-1">
                        <span id="coinCount" class="font-bold text-amber-500 max-sm:text-sm">100</span>
                        <img src="assets/coin.png" alt="Coins" class="w-5 h-5 max-sm:w-4 max-sm:h-4" />
                    </div>

                    <div
                        class="flex items-center gap-1.5 bg-[#00A63E] text-white px-2 py-1 rounded-xl max-sm:px-1 max-sm:py-0.5 max-sm:text-sm">
                        <p>Copy</p>
                        <span id="copyCount" class="font-bold">0</span>
                    </div>
                </div>
            </div>
        </nav>
    </header>

    <!-- Logo section -->
    <section
        class="relative mx-auto mt-4 sm:mt-6 overflow-hidden border border-slate-200 bg-gradient-to-r from-[#013223] via-[#006747] to-[#013223]">
        <div class="relative grid place-items-center px-4 sm:px-6 py-12 sm:py-16 text-center text-white">
            <img src="assets/logo.png" alt="Bangladesh Govt Logo"
                class="mb-3 sm:mb-4 h-12 w-12 sm:h-14 sm:w-14 rounded-full bg-white/20" />
            <h1 class="text-2xl sm:text-3xl md:text-5xl font-extrabold tracking-tight px-2">
                Emergency Service Directory
            </h1>
            <p class="mt-2 sm:mt-3 max-w-4xl px-4 text-sm sm:text-base">
                Government Emergency Services at Your Fingertip â€“ A Project by
                Government of the People's Republic of Bangladesh
            </p>
        </div>
    </section>

    <!-- Main section -->
    <main class="mx-auto mt-6 sm:mt-8 px-4 sm:px-6 pb-[3.5rem]">
        <div class="grid grid-cols-1 lg:grid-cols-3 gap-6">
            <section class="lg:col-span-2 space-y-4">
                <!-- All the carts -->
                <div class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3 sm:gap-4">
                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/emergency.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100"
                                        alt="Emergency" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">National Emergency Number</p>
                                    <p class="text-xs sm:text-sm text-slate-500">National Emergency</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">999</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">All</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/police.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100"
                                        alt="Police" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">Police Helpline Number</p>
                                    <p class="text-xs sm:text-sm text-slate-500">Police</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">999</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">Police</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/fire-service.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100"
                                        alt="Fire Service" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">Fire Service Number</p>
                                    <p class="text-xs sm:text-sm text-slate-500">Fire Service</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">999</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">Fire</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/ambulance.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100"
                                        alt="Ambulance" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">Ambulance Service</p>
                                    <p class="text-xs sm:text-sm text-slate-500">Ambulance</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">1994-999999</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">Health</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/heart.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100"
                                        alt="Women & Child" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">Women & Child Helpline</p>
                                    <p class="text-xs sm:text-sm text-slate-500">Women & Child Helpline</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">109</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">Help</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/emergency.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100"
                                        alt="Anti-Corruption" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">Anti-Corruption Helpline</p>
                                    <p class="text-xs sm:text-sm text-slate-500">Anti-Corruption</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">106</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">Govt.</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/emergency.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100"
                                        alt="Electricity" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">Electricity Helpline</p>
                                    <p class="text-xs sm:text-sm text-slate-500">Electricity Outage</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">16216</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">Electricity</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/brac.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100" alt="Brac" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">Brac Helpline</p>
                                    <p class="text-xs sm:text-sm text-slate-500">Brac</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">16445</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">NGO</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>

                    <div
                        class="relative rounded-2xl border border-slate-200 bg-white p-3 sm:p-4 hover:shadow transition shadow-md">
                        <button
                            class="heartBtn absolute top-2 right-2 sm:top-3 sm:right-3 rounded-lg bg-white p-1 hover:bg-slate-50 transition"
                            title="Give a heart">
                            <i class="fa-regular fa-heart text-sm sm:text-base"></i>
                        </button>
                        <div class="flex items-start gap-2 sm:gap-3">
                            <div class="flex-1">
                                <div class="flex items-center gap-2">
                                    <img src="assets/Bangladesh-Railway.png"
                                        class="h-6 w-6 sm:h-8 sm:w-8 rounded-lg object-cover bg-slate-100"
                                        alt="Bangladesh Railway" />
                                </div>
                                <div class="mt-2">
                                    <p class="text-sm sm:text-base font-semibold">Bangladesh Railway Helpline</p>
                                    <p class="text-xs sm:text-sm text-slate-500">Bangladesh Railway</p>
                                </div>
                                <div
                                    class="mt-2 sm:mt-3 flex gap-2 text-sm flex-col gap-1 sm:gap-2 items-start justify-start">
                                    <span class="font-mono text-base sm:text-lg font-bold">163</span>
                                    <span
                                        class="inline-flex items-center rounded-full bg-slate-100 border border-slate-200 px-2 py-0.5 text-xs font-medium text-slate-600">Travel</span>
                                </div>
                                <div class="mt-3 sm:mt-4 flex items-center gap-2 w-full justify-between">
                                    <button
                                        class="copyBtn w-full px-2 sm:px-3 py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-slate-300 bg-white text-slate-700 hover:bg-slate-50">
                                        <i class="fa-regular fa-copy"></i> Copy
                                    </button>
                                    <button
                                        class="callBtn px-2 sm:px-3 w-full py-1.5 sm:py-2 rounded-lg text-xs sm:text-sm font-semibold border border-transparent bg-green-600 text-white hover:bg-green-700">
                                        <i class="fa-solid fa-phone"></i> Call
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </section>

            <!-- call history section -->
            <aside class="lg:col-span-1">
                <div class="rounded-2xl border border-slate-200 bg-white text-slate-800">
                    <div class="flex items-center justify-between px-4 py-3 border-b border-slate-200">
                        <div class="flex items-center gap-2">
                            <span><i class="fa-regular fa-clock"></i></span>
                            <h3 class="font-semibold">Call History</h3>
                        </div>

                        <button id="clearHistory"
                            class="text-sm font-semibold rounded-lg border border-transparent px-3 py-1.5 bg-green-600 text-white hover:bg-green-700">
                            Clear
                        </button>
                    </div>
                    <ul id="historyList" class="divide-y divide-slate-200 max-h-[520px] overflow-auto">
                        <!-- History will be filled in the runtime -->
                    </ul>
                    <div id="emptyHistory" class="px-4 py-8 text-center text-slate-500 text-sm">
                        No calls yet. Your history will appear here.
                    </div>
                </div>
            </aside>
        </div>
    </main>

    <script>
        const state = {
            hearts: 0,
            coins: 100,
            copies: 0,
            history: [],

        };

        const heartCountEl = document.getElementById("heartCount");
        const coinCountEl = document.getElementById("coinCount");
        const copyCountEl = document.getElementById("copyCount");
        const navHeartBtn = document.getElementById("navHeartBtn");
        const historyListEl = document.getElementById("historyList");
        const emptyHistoryEl = document.getElementById("emptyHistory");
        const clearHistoryBtn = document.getElementById("clearHistory");

        function renderCounts() {
            heartCountEl.textContent = state.hearts;
            coinCountEl.textContent = state.coins;
            copyCountEl.textContent = state.copies;
        }

        async function copyToClipboard(text) {
            try {
                if (navigator.clipboard && window.isSecureContext) {
                    await navigator.clipboard.writeText(text);
                    return true;
                } else {
                    // Fallback
                    const textArea = document.createElement("textarea");
                    textArea.value = text;
                    textArea.style.position = "fixed";
                    textArea.style.left = "-999999px";
                    textArea.style.top = "-999999px";
                    document.body.appendChild(textArea);
                    textArea.focus();
                    textArea.select();
                    return new Promise((resolve, reject) => {
                        document.execCommand('copy') ? resolve(true) : reject(false);
                        textArea.remove();
                    });
                }
            } catch (err) {
                console.error('Failed to copy: ', err);
                return false;
            }
        }

        // event handlers
        function handleHeartClick() {
            state.hearts += 1;
            renderCounts();
        }

        async function handleCopy(number, serviceName) {
            try {
                const ok = await copyToClipboard(number);
                if (ok) {
                    state.copies += 1;
                    renderCounts();
                    alert(`Copied ${serviceName} number: ${number}`);
                } else {
                    alert(`Unable to copy. Number: ${number}`, false);
                }
            } catch (error) {
                console.error('Copy failed:', error);
                alert('Failed to copy number', false);
            }
        }

        function handleCall(service) {
            if (state.coins < 20) {
                alert("âš  Not enough coins (need 20). Please try later.", false);
                return;
            }

            state.coins -= 20;
            renderCounts();

            alert(`Calling ${service.nameEn} (${service.headTitle}) â€” ${service.number}`);

            state.history.push({
                headTitle: service.headTitle,
                nameEn: service.nameEn,
                number: service.number,
                time: formatLocalDateTime(),
            });
            renderHistory();
        }

        function setupEventListeners() {
            // on click
            document.addEventListener('click', function (e) {
                // heart
                if (e.target.closest('.heartBtn')) {
                    handleHeartClick();
                    const heartIcon = e.target.closest('.heartBtn').querySelector('i');
                    if (heartIcon) {
                        heartIcon.classList.remove('fa-regular');
                        heartIcon.classList.add('fa-solid', 'text-pink-500');
                    }
                }

                // copy
                if (e.target.closest('.copyBtn')) {
                    const card = e.target.closest('.relative');
                    if (card) {
                        const numberEl = card.querySelector('.font-mono');
                        const nameEl = card.querySelector('.text-slate-500');
                        if (numberEl && nameEl) {
                            const number = numberEl.textContent;
                            const name = nameEl.textContent;
                            handleCopy(number, name);
                        }
                    }
                }

                // Call buttons
                if (e.target.closest('.callBtn')) {
                    const card = e.target.closest('.relative');
                    if (card) {
                        const headTitleEl = card.querySelector('.font-semibold');
                        const nameEl = card.querySelector('.text-slate-500');
                        const numberEl = card.querySelector('.font-mono');

                        if (headTitleEl && nameEl && numberEl) {
                            const service = {
                                headTitle: headTitleEl.textContent,
                                nameEn: nameEl.textContent,
                                number: numberEl.textContent,
                            };
                            handleCall(service);
                        }
                    }
                }
            });
        }

        // history render
        function formatLocalDateTime() {
            const now = new Date();
            const optsDate = { year: "numeric", month: "short", day: "numeric" };
            const optsTime = {
                hour: "2-digit",
                minute: "2-digit",
                second: "2-digit",
            };
            return `${now.toLocaleDateString(
                undefined,
                optsDate
            )} ${now.toLocaleTimeString(undefined, optsTime)}`;
        }

        function renderHistory() {
            historyListEl.innerHTML = "";
            if (state.history.length === 0) {
                emptyHistoryEl.classList.remove("hidden");
                return;
            }
            emptyHistoryEl.classList.add("hidden");
            state.history
                .slice()
                .reverse()
                .forEach((item) => {
                    const li = document.createElement("li");
                    li.className = "px-4 py-3";
                    li.innerHTML = `
          <div class="flex items-start justify-between gap-2">
            <div>
              <p class="font-semibold">${item.headTitle} <span class="text-slate-500">(${item.nameEn})</span></p>
              <p class="text-sm text-slate-600"> ${item.number}</p>
            </div>
            <div class="text-right">
              <p class="text-xs text-slate-500">Called at</p>
              <p class="text-sm font-medium">${item.time}</p>
            </div>
          </div>
        `;
                    historyListEl.appendChild(li);
                });
        }

        clearHistoryBtn.addEventListener("click", () => {
            if (state.history.length === 0) return;
            if (confirm("Clear all call history?")) {
                state.history = [];
                renderHistory();
            }
        });

        // DOM
        document.addEventListener('DOMContentLoaded', function () {
            setupEventListeners();
            renderCounts();
            renderHistory()
        });
    </script>
</body>

</html>